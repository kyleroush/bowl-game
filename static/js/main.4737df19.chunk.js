(this["webpackJsonpbowl-game"]=this["webpackJsonpbowl-game"]||[]).push([[0],{70:function(e,a,t){e.exports=t(91)},75:function(e,a,t){},91:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),l=t.n(o),s=(t(75),t(29)),i=t(15),c=t(43),d=t(41),u=t(44),m=t(132),p=t(126),g=t(127),v=t(120),y=t(123),f=t(125),E=t(34),h=t.n(E);h.a.initializeApp({apiKey:"AIzaSyDYIdFDQ3ccmgUHsEJC7EQuPGyX3U0BKoM",authDomain:"reactemoji.firebaseapp.com",databaseURL:"https://reactemoji.firebaseio.com",projectId:"reactemoji",storageBucket:"reactemoji.appspot.com",messagingSenderId:"720480809303",appId:"1:720480809303:web:c82a2de9d2d14ab1a9ce12",measurementId:"G-C64FSH40V9"}),h.a.analytics();var W=h.a.database(),w=(h.a.firestore(),Object(v.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}})));var b=function(e){return r.a.createElement(y.a,null,""!==e.warning&&r.a.createElement(f.a,null,r.a.createElement(u.a,{color:"textSecondary"},e.warning)),r.a.createElement(f.a,null,r.a.createElement(m.a,{id:"session",label:"Session",variant:"outlined"})),r.a.createElement(f.a,null,r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"create",className:w().margin,onClick:function(){var a=document.getElementById("session").value,t=parseInt(document.getElementById("words-per-person").value);""===a&&(a=Math.random().toString(36).substring(2,10)),W.ref("BowlGame/".concat(a)).once("value",(function(n){null===n.val()&&(W.ref("BowlGame/".concat(a)).update({players:{},gottenWords:[],wordsPerPerson:t}),e.setAppState({session:a,wordsPerPerson:t}))}))}},"Create Bowl Game Session"),r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",className:w().margin,onClick:function(){var a=document.getElementById("session").value;W.ref("BowlGame/".concat(a)).once("value",(function(t){if(null!==t.val()){var n=t.val().wordsPerPerson;e.setAppState({session:a,wordsPerPerson:n})}else e.setAppState({warning:"this session doesnt exist"})}))}},"Join Bowl Game Session")),r.a.createElement(g.a,null),r.a.createElement(f.a,null,r.a.createElement(m.a,{id:"words-per-person",label:"# of words",variant:"outlined",defaultValue:3,helperText:"number of words per person"})))},S=Object(v.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}));var k=function(e){return r.a.createElement(y.a,null,r.a.createElement(f.a,null,r.a.createElement(m.a,{id:"name",label:"Name",variant:"outlined"}),r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",className:S().margin,onClick:function(){var a=e.session,t=document.getElementById("name").value;W.ref("BowlGame/".concat(a,"/players/").concat(t)).update({name:t,words:[]}),e.setAppState({player:t})}},"Create player")))},j=t(16),x=t(128),B=t(129),C=t(130),G=t(131),T=t(59),A=t.n(T),P=t(60),I=t.n(P),O=function(e){Object(c.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).onAddWords=function(){var e=n.props,a=e.wordCount,t=e.player,r=e.session,o=Array(a).fill().map((function(e,a){return document.getElementById("word-".concat(a)).value}));W.ref("BowlGame/".concat(r,"/players/").concat(t)).update({name:t,words:o}),n.setState({gameState:n.gameStates.playing})},n.yourTurn=function(){var e=n.state.snapshot,a=Object(j.a)(n),t=[],r=[];for(var o in r=r.concat(e.gottenWords),e.players){var l=e.players[o];t=t.concat(l.words)}t=t.filter((function(e){return!r.includes(e)}));var s=Math.floor(Math.random()*t.length),i=t[s];t.splice(s,1),a.setState({yourTurn:!0,aviableWords:t,currentWord:i,gottenWords:[]})},n.nextWord=function(){var e=n.state,a=e.currentWord,t=e.aviableWords,r=e.gottenWords,o=Math.floor(Math.random()*t.length);r.push(a),a=t[o],t.splice(o,1),n.setState({aviableWords:t,currentWord:a,gottenWords:r})},n.finalWord=function(){var e=n.state,a=e.gottenWords,t=e.currentWord,r=n.props.session;a.push(t);var o=a.concat(n.getSnapshotGottenWords());W.ref("BowlGame/".concat(r)).update({gottenWords:o}),n.setState({yourTurn:!1,aviableWords:[],currentWord:null,gottenWords:[]})},n.getSnapshotGottenWords=function(){var e=n.state.snapshot;return void 0===e.gottenWords?[]:e.gottenWords},n.finishTurn=function(){var e=n.state.gottenWords,a=n.props.session,t=e.concat(n.getSnapshotGottenWords());W.ref("BowlGame/".concat(a)).update({gottenWords:t}),n.setState({yourTurn:!1,aviableWords:[],currentWord:null,gottenWords:[]})},n.renderDuringTurn=function(){var e=n.state,a=e.currentWord,t=e.aviableWords;return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(u.a,{color:"textPrimary"},"your word is"),r.a.createElement(u.a,{color:"textSecondary"},a))),0!==t.length?r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",onClick:n.nextWord},"Gotten Word"):r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",onClick:n.finalWord},"Gotten Final Word"),r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",onClick:n.finishTurn},"End Turn"))},n.resetSession=function(){var e=n.props.session,a=n.state.snapshot,t={};for(var r in a.players)t[r]={name:r};W.ref("BowlGame/".concat(e)).update({gottenWords:[],players:t}),n.setState({addingWords:!0,yourTurn:!1,aviableWords:[],currentWord:null,gottenWords:[]})},n.reuseWords=function(){var e=n.props.session;W.ref("BowlGame/".concat(e)).update({gottenWords:[]}),n.setState({addingWords:!1,yourTurn:!1,aviableWords:[],currentWord:null,gottenWords:[]})},n.markReady=function(){var e=n.props,a=e.session,t=e.player,r=n.state.snapshot.players[t];r.ready=!0,W.ref("BowlGame/".concat(a,"/players/").concat(t)).update(r)},n.renderReady=function(){return r.a.createElement(p.a,{variant:"extended",color:"secondary","aria-label":"join",onClick:n.markReady},"Ready to start")},n.renderPlayers=function(){var e=n.state,a=e.snapshot,t=e.open;return null===a?r.a.createElement(y.a,null):r.a.createElement(y.a,null,r.a.createElement(f.a,{button:!0,onClick:function(){n.setState({open:!t})}},r.a.createElement(C.a,{primary:"Players"}),t?r.a.createElement(A.a,null):r.a.createElement(I.a,null)),r.a.createElement(G.a,{in:t,timeout:"auto",unmountOnExit:!0},r.a.createElement(y.a,null,Object.keys(a.players).map((function(e){return r.a.createElement(f.a,{key:e},r.a.createElement(C.a,null,"player: ",e," ",void 0!==a.players[e].words?"words submitted":"needs to submit words"))})))))},n.renderResets=function(){return r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement(p.a,{variant:"extended",color:"secondary","aria-label":"join",onClick:n.reuseWords},"Put words back in bowl"),r.a.createElement(p.a,{variant:"extended",color:"secondary","aria-label":"join",onClick:n.resetSession},"End Game and start new?"))},n.state={gameState:"addingWords",addingWords:!0,words:null,yourTurn:!1,aviableWords:[],currentWord:null,gottenWords:[],snapshot:null},n.gameStates={addingWords:"addingWords",readying:"readying",playing:"playing"},n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.session,a=this;W.ref("BowlGame/".concat(e)).on("value",(function(e){a.setState({snapshot:e.val()})}))}},{key:"renderAddWords",value:function(){var e=this,a=this.props.wordCount;return r.a.createElement("div",null,r.a.createElement(u.a,null,"Add words to the bowl"),r.a.createElement(y.a,{component:"nav","aria-label":"contacts"},Array(a).fill().map((function(e,a){return r.a.createElement(f.a,{key:"word-".concat(a)},r.a.createElement(m.a,{id:"word-".concat(a),label:"".concat(a+1," word"),variant:"outlined"}))}))),r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",onClick:this.onAddWords},"Add Words"),":",r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",onClick:function(){return e.setState({gameState:e.gameStates.playing})}},"Skip Adding words"))}},{key:"renderStartTurn",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{variant:"extended",color:"primary","aria-label":"join",onClick:this.yourTurn},"Start Turn"))}},{key:"render",value:function(){var e=this.props,a=e.session,t=e.player,n=this.state,o=n.yourTurn,l=n.gameState;return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, ",t,"! You have joined ",a,"."),l===this.gameStates.addingWords&&this.renderAddWords(),l===this.gameStates.playing&&(o?this.renderDuringTurn():this.renderStartTurn()),l===this.gameStates.playing&&!o&&this.renderResets(),!o&&this.renderPlayers())}}]),t}(r.a.Component),R=function(e){Object(c.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).setValue=function(e){n.setState(e)},n.state={session:null,player:null,warning:""},n}return Object(i.a)(t,[{key:"render",value:function(){var e=this.state,a=e.session,t=e.player,n=e.warning,o=e.wordsPerPerson;return r.a.createElement("div",null,r.a.createElement("h1",null,"The Bowl Game"),null==a&&r.a.createElement(b,{setAppState:this.setValue}),null!=a&&null==t&&r.a.createElement(k,{session:a,setAppState:this.setValue,warning:n}),null!=a&&null!=t&&r.a.createElement(O,{session:a,player:t,wordCount:o}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.4737df19.chunk.js.map